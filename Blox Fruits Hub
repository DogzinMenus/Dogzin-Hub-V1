local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local player = Players.LocalPlayer
local mouse = player:GetMouse()

-- Estados
local noclip = false
local autoKill = false
local fastAttack = false

-- GUI
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "DogzinHub"
screenGui.ResetOnSpawn = false
screenGui.Parent = player:WaitForChild("PlayerGui")

-- Botão de abrir/fechar
local toggleButton = Instance.new("TextButton")
toggleButton.Size = UDim2.new(0, 50, 0, 50)
toggleButton.Position = UDim2.new(0, 10, 0.5, -25)
toggleButton.BackgroundColor3 = Color3.fromRGB(0, 170, 255)
toggleButton.Text = "+"
toggleButton.Font = Enum.Font.GothamBold
toggleButton.TextSize = 30
toggleButton.TextColor3 = Color3.new(1, 1, 1)
toggleButton.Parent = screenGui

-- Main Frame
local mainFrame = Instance.new("Frame")
mainFrame.Size = UDim2.new(0, 400, 0, 350)
mainFrame.Position = UDim2.new(0.5, -200, 0.5, -175)
mainFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
mainFrame.BorderSizePixel = 0
mainFrame.Visible = true
mainFrame.Active = true
mainFrame.Draggable = true
mainFrame.Parent = screenGui

toggleButton.MouseButton1Click:Connect(function()
	mainFrame.Visible = not mainFrame.Visible
	toggleButton.Text = mainFrame.Visible and "-" or "+"
end)

-- Título
local title = Instance.new("TextLabel")
title.Size = UDim2.new(1, 0, 0, 40)
title.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
title.Text = "DogzinHub"
title.Font = Enum.Font.GothamBold
title.TextSize = 24
title.TextColor3 = Color3.new(1, 1, 1)
title.Parent = mainFrame

-- Conteúdo
local contentFrame = Instance.new("Frame")
contentFrame.Size = UDim2.new(1, 0, 1, -40)
contentFrame.Position = UDim2.new(0, 0, 0, 40)
contentFrame.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
contentFrame.BorderSizePixel = 0
contentFrame.Parent = mainFrame

local sideBar = Instance.new("Frame")
sideBar.Size = UDim2.new(0, 100, 1, 0)
sideBar.BackgroundColor3 = Color3.fromRGB(15, 15, 15)
sideBar.Parent = contentFrame

local tabContent = Instance.new("Frame")
tabContent.Size = UDim2.new(1, -100, 1, 0)
tabContent.Position = UDim2.new(0, 100, 0, 0)
tabContent.BackgroundTransparency = 1
tabContent.Parent = contentFrame

-- Funções auxiliares
local function createTabButton(name, y)
	local btn = Instance.new("TextButton")
	btn.Text = name
	btn.Font = Enum.Font.Gotham
	btn.TextSize = 18
	btn.TextColor3 = Color3.new(1, 1, 1)
	btn.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
	btn.Size = UDim2.new(1, 0, 0, 40)
	btn.Position = UDim2.new(0, 0, 0, y)
	btn.Parent = sideBar
	return btn
end

local function createToggle(name, y, parent, callback)
	local frame = Instance.new("Frame")
	frame.Size = UDim2.new(1, -20, 0, 30)
	frame.Position = UDim2.new(0, 10, 0, y)
	frame.BackgroundTransparency = 1
	frame.Parent = parent

	local label = Instance.new("TextLabel")
	label.Size = UDim2.new(0.7, 0, 1, 0)
	label.Text = name
	label.TextColor3 = Color3.new(1, 1, 1)
	label.BackgroundTransparency = 1
	label.Font = Enum.Font.Gotham
	label.TextSize = 18
	label.TextXAlignment = Enum.TextXAlignment.Left
	label.Parent = frame

	local btn = Instance.new("TextButton")
	btn.Size = UDim2.new(0, 40, 0, 20)
	btn.Position = UDim2.new(1, -45, 0.5, -10)
	btn.BackgroundColor3 = Color3.fromRGB(70, 70, 70)
	btn.Text = "Off"
	btn.Font = Enum.Font.Gotham
	btn.TextSize = 16
	btn.TextColor3 = Color3.new(1, 1, 1)
	btn.Parent = frame

	local toggled = false
	btn.MouseButton1Click:Connect(function()
		toggled = not toggled
		btn.Text = toggled and "On" or "Off"
		btn.BackgroundColor3 = toggled and Color3.fromRGB(0, 170, 0) or Color3.fromRGB(70, 70, 70)
		if callback then callback(toggled) end
	end)
end

-- Tabs
local tabs = {}

local mainTab = Instance.new("Frame")
mainTab.Size = UDim2.new(1, 0, 1, 0)
mainTab.BackgroundTransparency = 1
mainTab.Visible = true
mainTab.Parent = tabContent
tabs["Main"] = mainTab

local settingsTab = Instance.new("Frame")
settingsTab.Size = UDim2.new(1, 0, 1, 0)
settingsTab.BackgroundTransparency = 1
settingsTab.Visible = false
settingsTab.Parent = tabContent
tabs["Settings"] = settingsTab

local function switchTab(tabName)
	for _, v in pairs(tabs) do
		v.Visible = false
	end
	tabs[tabName].Visible = true
end

-- Botões das abas
local mainBtn = createTabButton("Main", 10)
local settingsBtn = createTabButton("Settings", 60)
mainBtn.MouseButton1Click:Connect(function() switchTab("Main") end)
settingsBtn.MouseButton1Click:Connect(function() switchTab("Settings") end)

-- Funções reais
RunService.Stepped:Connect(function()
	if noclip and player.Character then
		for _, part in pairs(player.Character:GetDescendants()) do
			if part:IsA("BasePart") then
				part.CanCollide = false
			end
		end
	end
end)

local function attackBoss()
	coroutine.wrap(function()
		while autoKill do
			task.wait()
			local boss = nil
			for _, v in pairs(workspace.Enemies:GetChildren()) do
				if v:FindFirstChild("HumanoidRootPart") then
					boss = v
					break
				end
			end
			if boss and player.Character then
				player.Character:PivotTo(boss.HumanoidRootPart.CFrame * CFrame.new(0, 0, 5))
				local tool = player.Character:FindFirstChildOfClass("Tool")
				if tool and tool:FindFirstChild("RemoteFunction") then
					pcall(function()
						tool.RemoteFunction:InvokeServer("hit", boss)
					end)
				end
			end
		end
	end)()
end

local function doFastAttack()
	coroutine.wrap(function()
		while fastAttack do
			task.wait(0.15)
			local tool = player.Character and player.Character:FindFirstChildOfClass("Tool")
			if tool and tool:FindFirstChild("RemoteFunction") then
				pcall(function()
					tool.RemoteFunction:InvokeServer("hit")
				end)
			end
		end
	end)()
end

-- Toggles funcionais
createToggle("AutoFarm", 10, mainTab, function(state)
	print("AutoFarm toggled:", state)
end)

createToggle("Fast Attack", 50, mainTab, function(state)
	fastAttack = state
	if fastAttack then doFastAttack() end
end)

createToggle("Kill Boss", 90, mainTab, function(state)
	autoKill = state
	if autoKill then attackBoss() end
end)

createToggle("ESP Players", 130, mainTab, function(state)
	print("ESP Players toggled:", state)
end)

createToggle("Hitbox Plus", 170, mainTab, function(state)
	print("Hitbox toggled:", state)
end)

createToggle("Auto Collect", 210, mainTab, function(state)
	print("Auto Collect toggled:", state)
end)

createToggle("NoClip", 10, settingsTab, function(state)
	noclip = state
end)

createToggle("Teleport", 50, settingsTab, function(state)
	print("Teleport toggled:", state)
end)

-- Botão de fechar
local closeBtn = Instance.new("TextButton")
closeBtn.Size = UDim2.new(0, 30, 0, 30)
closeBtn.Position = UDim2.new(1, -35, 0, 5)
closeBtn.BackgroundColor3 = Color3.fromRGB(255, 50, 50)
closeBtn.Text = "X"
closeBtn.Font = Enum.Font.GothamBold
closeBtn.TextSize = 20
closeBtn.TextColor3 = Color3.new(1, 1, 1)
closeBtn.Parent = mainFrame
closeBtn.MouseButton1Click:Connect(function()
	screenGui:Destroy()
end)
